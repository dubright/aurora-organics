<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><title>Aurora Organics üåø</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/><script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script><script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script><script src="https://unpkg.com/@babel/standalone/babel.min.js"></script><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style>*{box-sizing:border-box;margin:0;padding:0}body{font-family:"Inter",sans-serif;background:#0c0f11;color:#e6e6e6;height:100vh;display:flex;overflow:hidden}aside{width:250px;background:linear-gradient(180deg,#111315 0%,#0c0f11 100%);border-right:1px solid #1c1f22;padding:1.2rem;display:flex;flex-direction:column;gap:.6rem;box-shadow:inset -1px 0 10px rgba(0,230,118,.05);transition:transform .3s ease-in-out}aside h1{font-size:1.3rem;color:#00e676;display:flex;align-items:center;gap:8px;text-shadow:0 0 6px rgba(0,230,118,.6);margin-bottom:1rem}.menu-toggle{display:none;position:absolute;top:1rem;left:1rem;background:none;border:none;color:#00e676;font-size:1.6rem;cursor:pointer;z-index:1001}@media(max-width:768px){aside{position:fixed;left:0;top:0;height:100%;transform:translateX(-100%);z-index:1000}aside.open{transform:translateX(0)}.menu-toggle{display:block}}.nav-btn{background:none;border:none;color:#e6e6e6;font-size:1rem;text-align:left;padding:10px;border-radius:8px;cursor:pointer;transition:.3s}.nav-btn.active,.nav-btn:hover{background:rgba(0,230,118,.08);color:#00e676;font-weight:600}main{flex:1;display:flex;overflow:hidden;position:relative}.content{flex:1;padding:2rem;overflow-y:auto;background:radial-gradient(circle at top left,rgba(0,230,118,.08),transparent 60%)}h2{color:#00e676;font-size:1.4rem;font-weight:700;display:flex;align-items:center;gap:8px;margin-bottom:1rem;text-shadow:0 0 6px rgba(0,230,118,.5)}.card{background:rgba(23,26,31,.95);border-radius:12px;padding:1rem;margin-bottom:1rem;box-shadow:0 2px 10px rgba(0,230,118,.05)}.action{background:#00e676;color:#000;font-weight:600;cursor:pointer;border:none;border-radius:8px;padding:8px 12px;transition:.3s}.action:hover{transform:scale(1.05)}input,select{border:none;border-radius:8px;padding:8px 10px;font-family:inherit;background:#1b1e22;color:#e6e6e6;width:100%}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-bottom:1.5rem}.metric-card{background:#121417;border:1px solid rgba(0,230,118,.15);border-radius:10px;padding:1rem;text-align:left;box-shadow:0 0 20px rgba(0,230,118,.03)}.metric-card h3{color:#e6e6e6;font-size:1rem;margin-bottom:.4rem}.metric-value{color:#00e676;font-weight:700;font-size:1.1rem;text-shadow:0 0 8px rgba(0,230,118,.6)}canvas{background:#121417;border-radius:10px;padding:1rem;margin-top:1rem;opacity:0;transform:translateY(15px);transition:opacity 1.2s ease,transform 1.2s ease}canvas.visible{opacity:1;transform:translateY(0)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-thumb{background:#00e67633;border-radius:8px}::-webkit-scrollbar-thumb:hover{background:#00e67666}</style></head><body><button class="menu-toggle" id="menuToggle">‚ò∞</button><aside id="sidebar"><h1>üåø Aurora</h1><button class="nav-btn active" data-page="dashboard">Dashboard</button><button class="nav-btn" data-page="projects">Projetos</button><button class="nav-btn" data-page="monitoramento">Monitoramento</button><button class="nav-btn" data-page="configuracoes">Configura√ß√µes</button></aside><main><div class="content" id="root"></div></main><script type="text/babel" data-presets="react,env">
const { useState, useEffect, useRef } = React;

function Toast({ message, type }) {
  if (!message) return null;
  const colors = { success:"#00e676", error:"#ff5252", info:"#00b0ff", warning:"#ffca28" };
  return <div style={{
    position:"fixed",bottom:"20px",right:"20px",background:colors[type]||"#00e676",
    color:"#000",padding:"10px 16px",borderRadius:"8px",fontWeight:600,
    boxShadow:"0 4px 10px rgba(0,0,0,0.2)",zIndex:999
  }}>{message}</div>;
}

/* === DASHBOARD COM GR√ÅFICOS ANIMADOS === */
function Dashboard({ projects }) {
  const cultivos = projects.flatMap(p=>p.cultivos||[]);
  const totalProjetos = projects.length;
  const totalCultivos = cultivos.length;
  const tarefasPendentes = cultivos.flatMap(c=>c.tarefas||[]).filter(t=>!t.concluida).length;
  const rentabilidade = totalCultivos ? (totalCultivos * 8).toFixed(1) : 0;

  const refs = { progresso:useRef(null), tarefas:useRef(null), rent:useRef(null) };

  useEffect(()=>{
    const animateCanvas = () => {
      document.querySelectorAll("canvas").forEach(cv=>{
        cv.classList.remove("visible");
        setTimeout(()=>cv.classList.add("visible"),200);
      });
    };
    animateCanvas();

    if(!refs.progresso.current||!refs.tarefas.current||!refs.rent.current)return;
    const ctx1=refs.progresso.current.getContext("2d");
    const ctx2=refs.tarefas.current.getContext("2d");
    const ctx3=refs.rent.current.getContext("2d");
    const destroyAll=()=>{ctx1&&ctx1.chart&&ctx1.chart.destroy();ctx2&&ctx2.chart&&ctx2.chart.destroy();ctx3&&ctx3.chart&&ctx3.chart.destroy();};

    destroyAll();
    const dias=Array.from({length:12},(_,i)=>"Dia "+(i+1));
    const dados=Array.from({length:12},()=>Math.floor(Math.random()*5)+totalCultivos);
    const concluidas=Math.floor(Math.random()*totalCultivos);
    const pendentes=totalCultivos-concluidas;

    new Chart(ctx1,{type:"line",data:{labels:dias,datasets:[{data:dados,borderColor:"#00e676",borderWidth:2,tension:.3}]},
      options:{animation:{duration:1200,easing:"easeOutQuart"},plugins:{legend:{display:false}},
      scales:{x:{ticks:{color:"#777"}},y:{ticks:{color:"#777"}}}}});
    new Chart(ctx2,{type:"doughnut",data:{labels:["Conclu√≠das","Pendentes"],datasets:[{data:[concluidas,pendentes],backgroundColor:["#00e676","#333"],borderWidth:0}]},
      options:{animation:{duration:1200,easing:"easeOutQuart"},plugins:{legend:{labels:{color:"#aaa"}}}}});
    new Chart(ctx3,{type:"bar",data:{labels:projects.map(p=>p.nome||"Projeto"),
      datasets:[{data:projects.map(()=>Math.floor(Math.random()*90)+10),backgroundColor:"#00e676"}]},
      options:{animation:{duration:1200,easing:"easeOutQuart"},plugins:{legend:{display:false}},
      scales:{x:{ticks:{color:"#777"}},y:{ticks:{color:"#777"}}}}});
    return()=>destroyAll();
  },[projects]);

  return (
    <div>
      <h2>üìà Dashboard</h2>
      <div className="dashboard-grid">
        <div className="metric-card"><h3>üåø Projetos</h3><div className="metric-value">{totalProjetos}</div></div>
        <div className="metric-card"><h3>üå± Cultivos</h3><div className="metric-value">{totalCultivos}</div></div>
        <div className="metric-card"><h3>üïì Pend√™ncias</h3><div className="metric-value">{tarefasPendentes}</div></div>
        <div className="metric-card"><h3>üí∞ Rentabilidade</h3><div className="metric-value">{rentabilidade}%</div></div>
      </div>
      <h2>üìä Visualiza√ß√£o Anal√≠tica</h2>
      <canvas ref={refs.progresso} height="120"></canvas>
      <canvas ref={refs.tarefas} height="120"></canvas>
      <canvas ref={refs.rent} height="120"></canvas>
    </div>
  );
}
/* === OUTRAS ABAS === */
function Projetos({ projects, setProjects, showToast }) {
  const [novo, setNovo] = useState("");
  const add = () => {
    if (!novo.trim()) return alert("Informe um nome para o projeto.");
    setProjects([...projects, { id: Date.now(), nome: novo, dataCriacao: new Date().toLocaleDateString(), cultivos: [] }]);
    showToast("üåø Projeto criado!", "success");
    setNovo("");
  };
  const del = (id) => { if (confirm("Excluir este projeto?")) setProjects(projects.filter(p => p.id !== id)); };

  return (
    <div>
      <h2>üåæ Projetos</h2>
      <div style={{ display: "flex", gap: "10px", marginBottom: "1rem" }}>
        <input placeholder="Nome do Projeto" value={novo} onChange={e => setNovo(e.target.value)} />
        <button className="action" onClick={add}>+ Novo Projeto</button>
      </div>
      {projects.map(p => (
        <div key={p.id} className="card" style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
          <strong>{p.nome}</strong>
          <button className="action" onClick={() => del(p.id)}>Excluir</button>
        </div>
      ))}
    </div>
  );
}

function Monitoramento() {
  return <div><h2>üå°Ô∏è Monitoramento Manual</h2><p>Registre leituras e alertas dos cultivos. (em desenvolvimento)</p></div>;
}

function Configuracoes({ setProjects, showToast }) {
  return (
    <div>
      <h2>‚öôÔ∏è Configura√ß√µes</h2>
      <button className="action"
        onClick={() => {
          if (confirm("Deseja realmente limpar todos os dados?")) {
            localStorage.removeItem("projectsAurora");
            setProjects([]);
            showToast("üßπ Dados limpos.", "info");
          }
        }}>
        Limpar Dados
      </button>
      <p style={{ marginTop: "1rem", opacity: 0.6 }}>Vers√£o Aurora Organics v1.1 üåø</p>
    </div>
  );
}

/* === APP PRINCIPAL === */
function App({ page }) {
  const [projects, setProjects] = useState(() => JSON.parse(localStorage.getItem("projectsAurora") || "[]"));
  const [toast, setToast] = useState({ message: "", type: "" });

  const showToast = (msg, type = "info") => {
    setToast({ message: msg, type });
    setTimeout(() => setToast({ message: "", type: "" }), 2000);
  };

  useEffect(() => { localStorage.setItem("projectsAurora", JSON.stringify(projects)); }, [projects]);

  return (
    <div>
      {page === "dashboard" && <Dashboard projects={projects} />}
      {page === "projects" && <Projetos projects={projects} setProjects={setProjects} showToast={showToast} />}
      {page === "monitoramento" && <Monitoramento />}
      {page === "configuracoes" && <Configuracoes setProjects={setProjects} showToast={showToast} />}
      <Toast message={toast.message} type={toast.type} />
    </div>
  );
}

/* === NAVEGA√á√ÉO E INICIALIZA√á√ÉO === */
let currentPage = "dashboard";
const root = ReactDOM.createRoot(document.getElementById("root"));
function renderApp() { root.render(<App key={currentPage} page={currentPage} />); }
renderApp();

document.querySelectorAll(".nav-btn").forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll(".nav-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    currentPage = btn.getAttribute("data-page");
    renderApp();
    document.getElementById("sidebar").classList.remove("open");
  };
});
document.getElementById("menuToggle").onclick = () => {
  document.getElementById("sidebar").classList.toggle("open");
};
</script></body></html>
